# JVM

## Инициализация класса JvmComprehension
При выполнении строки: `public class JvmComprehension {` происходит:
* Загрузка класса (ClassLoader) в область памяти Metaspace данных о классе (имя, методы, поля и др.) и констант
* Связывание (Linking)
* Инициализация (Initialization) - выполняются инициализаторы static и инициализаторы полей static

## Вызов метода main
* В момент вызова метода main: `public static void main(String[] args) {` создаётся фрейм (кадр) в стеке (Stack Memory)
* При выполнении строки: `int i = 1;` примитивная переменная типа int i со значением 1 сохраняется в стеке в рамках фрейма метода main
* Следующая строка: `Object o = new Object();` создает объект типа Object и сохраняет его в куче (heap). Ссылка на этот объект o сохраняется в стеке в рамках фрейма метода main
* Строка: `Integer ii = 2;` создает объект для класса-обертки Integer в куче и внутри этого объекта присваивает примитиву ii значение 2, а ссылка на этот объект ii сохраняется в фрейме метода main
* При выполнении строки: `int i = 1;` примитивная переменная типа int i со значением 1 сохраняется в стеке в рамках фрейма метода main
* Строка: `printAll(o, i, ii);` вызывает метод printAll с прередающимися параметрами o, i, ii
* Строка: `System.out.println("finished");` выводит на консоль сообщение об окончании работы метода
* По окнчании работы метода происходит сборка мусора и из кучи будут удалены объекты:
1. Integer для переменной ii вместе со значением
2. Object

## Вызов метода printAll
* При вызове метода: `private static void printAll(Object o, int i, Integer ii) {` создается новый фрейм в стеке для этого метода. В рамках этого фрейма будут записаны значение переменной i, ссылки на объекты o и ii
* Следующая строка: `Integer uselessVar = 700;` создает объект для класса-обертки Integer в куче и внутри этого объекта присваивает примитиву uselessVar значение 700, а ссылка на этот объект uselessVar сохраняется в фрейме метода printAll
* Строка: `System.out.println(o.toString() + i + ii);` выводит на консоль в одной строке:
1. результат вызова метода toString() для объекта o
2. значение примитивной переменной i
3. значение для ii, хранящееся в объекте Integer
* По окнчании работы метода происходит сборка мусора и из кучи будет удален объект Integer для переменной uselessVar вместе со значением
